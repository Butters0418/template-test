# æ´»å‹•é 

> ä¸€å€‹åŸºæ–¼ React + Vite é–‹ç™¼çš„é›»å•†æ´»å‹•é é¢,æ•´åˆè‡ªå‹•åŒ–åœ–ç‰‡å£“ç¸®ã€å¤šå¾Œå°è³‡æ–™ä¸²æ¥èˆ‡å®¢è£½åŒ–æ‰“åŒ…æµç¨‹ã€‚

[![Demo](https://img.shields.io/badge/Demo-Live-brightgreen)](https://butters.idv.tw/)
[![React](https://img.shields.io/badge/React-18.2-blue)](https://reactjs.org/)
[![Vite](https://img.shields.io/badge/Vite-4.x-646CFF)](https://vitejs.dev/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.x-38B2AC)](https://tailwindcss.com/)

## ğŸ“‹ ç›®éŒ„

- [ğŸ›  æŠ€è¡“æ£§](#-æŠ€è¡“æ£§)
- [âœ¨ æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [ğŸ“ Demo èªªæ˜](#-demo-èªªæ˜)
- [ğŸš€ å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹)
- [ğŸ“‚ å°ˆæ¡ˆçµæ§‹](#-å°ˆæ¡ˆçµæ§‹)
- [ğŸ’» é–‹ç™¼æŒ‡å—](#-é–‹ç™¼æŒ‡å—)
- [ğŸ¨ æ ¸å¿ƒçµ„ä»¶ä½¿ç”¨](#-æ ¸å¿ƒçµ„ä»¶ä½¿ç”¨)
- [ğŸ—‚ï¸ ç‹€æ…‹ç®¡ç†](#ï¸-ç‹€æ…‹ç®¡ç†)
- [ğŸ“ é–‹ç™¼ Snippets](#-é–‹ç™¼-snippets)
- [ğŸ› ï¸ å·¥å…·å‡½å¼](#ï¸-å·¥å…·å‡½å¼)

---

**ğŸŒ ç·šä¸Šå±•ç¤º**: [https://butters.idv.tw/](https://butters.idv.tw/)

---

## ğŸ›  æŠ€è¡“æ£§

### æ ¸å¿ƒæŠ€è¡“

- **React 18.2** - å‰ç«¯æ¡†æ¶
- **Vite 4.x** - å»ºæ§‹å·¥å…·
- **Tailwind CSS 3.x** - CSS æ¡†æ¶
- **Styled Components** - CSS-in-JS
- **Twin.macro** - Tailwind + Styled Components æ•´åˆ

### ç‹€æ…‹ç®¡ç†

- **Zustand** - è¼•é‡ç´šç‹€æ…‹ç®¡ç†

### UI å…ƒä»¶

- **Swiper** - è¼ªæ’­å…ƒä»¶
- **Material-UI** - UI å…ƒä»¶åº«

### å‹•ç•«å¥—ä»¶

- **GSAP** - å‹•ç•«å…ƒä»¶åº«

### é–‹ç™¼å·¥å…·

- **Sharp** - åœ–ç‰‡å£“ç¸®è™•ç†
- **Vite Plugin Zip Pack** - æ‰“åŒ…å£“ç¸®

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- âœ… **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´ PC/Mobile å¤šè£ç½®ç€è¦½
- âœ… **è‡ªå‹•åœ–ç‰‡å£“ç¸®** - æ•´åˆ Sharp è‡ªå‹•å£“ç¸®ä¸¦ç”¢å‡º WebP æ ¼å¼
- âœ… **å¤šå¾Œå°æ•´åˆ** - æ”¯æ´å¤šçµ„å¾Œå° API ä¸²æ¥
- âœ… **å‹•æ…‹å€å¡Šæ¸²æŸ“** - æ ¹æ“šå¾Œå°è³‡æ–™è‡ªå‹•é¡¯ç¤º/éš±è—å€å¡Š
- âœ… **ä¸€éµæ‰“åŒ…éƒ¨ç½²** - è‡ªå‹•ç”¢ç”Ÿå¯ä¸Šå‚³çš„ .zip å£“ç¸®åŒ…
- âœ… **éŒ¨é»å°èˆª** - è‡ªå‹•ç”Ÿæˆå´é‚Šæ¬„éŒ¨é»é¸å–®

---

## ğŸ“ Demo èªªæ˜

æ­¤ Demo ç‰ˆæœ¬ç‚ºä½œå“é›†å±•ç¤ºç”¨é€”,å·²ç§»é™¤ä»¥ä¸‹åŠŸèƒ½:

- ~~æœƒå“¡ç™»å…¥ API~~
- ~~æŠ˜åƒ¹åˆ¸ API~~
- ~~å•†å“å¾Œå° API~~
- ~~é™æ™‚ç˜‹æ®º API~~
- ~~Build å¾Œç”¢ç”Ÿ .zip ä¸Šå‚³åŒ…~~

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- **Node.js**: v18.18 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm** æˆ– **yarn**

### å»ºè­°ä½¿ç”¨çš„ VSCode æ“´å……å¥—ä»¶

| æ“´å……å¥—ä»¶                                                                                                                      | ç”¨é€”                       |
| ----------------------------------------------------------------------------------------------------------------------------- | -------------------------- |
| [ES7+ React/Redux/React-Native snippets](https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets) | React ç¨‹å¼ç¢¼ç‰‡æ®µ           |
| [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)                                          | ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥             |
| [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)                    | Tailwind CSS è‡ªå‹•è£œå…¨      |
| [Tailwind Twin IntelliSense](https://marketplace.visualstudio.com/items?itemName=lightyen.tailwindcss-intellisense-twin)      | Twin.macro æ”¯æ´            |
| [vscode-styled-components](https://marketplace.visualstudio.com/items?itemName=styled-components.vscode-styled-components)    | Styled Components èªæ³•é«˜äº® |
| [Path Intellisense](https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense)                   | è·¯å¾‘è‡ªå‹•è£œå…¨               |
| [MUI Snippets](https://marketplace.visualstudio.com/items?itemName=vscodeshift.mui-snippets)                                  | Material-UI ç¨‹å¼ç¢¼ç‰‡æ®µ     |

### å®‰è£ç›¸é—œå¥—ä»¶

```bash
npm install
```

### å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ

å•Ÿå‹•å°ˆæ¡ˆä¸¦è‡ªå‹•åŸ·è¡Œåœ–ç‰‡å£“ç¸®:

```bash
npm run dev
```

### å»ºæ§‹ç”Ÿç”¢ç‰ˆæœ¬

æ‰“åŒ…å°ˆæ¡ˆä¸¦å»ºç«‹ .zip å£“ç¸®åŒ…:

```bash
npm run build
```

---

## ğŸ’» é–‹ç™¼æŒ‡å—

### ç’°å¢ƒè®Šæ•¸è¨­å®š

åœ¨ `.env` æª”æ¡ˆä¸­é…ç½®æ´»å‹•é åŸºæœ¬è³‡è¨Š:

```shell
# æ´»å‹•è¨­å®š
VITE_ACTIVE_ID=å¾Œå° ID
VITE_ISONLINE=true

# ç˜‹æ®º API (æœ¬åœ°æ¸¬è©¦ç”¨)
VITE_ONSALE_API=

# Meta æ¨™ç±¤
VITE_META_TITLE=
VITE_META_KEYWORDS=
VITE_META_DESCRIPTION=
VITE_META_OGIMAGE=
```

### ğŸ–¼ï¸ åœ–ç‰‡å£“ç¸®åŠŸèƒ½

ä½¿ç”¨ [Sharp](https://www.npmjs.com/package/sharp) è‡ªå‹•å£“ç¸®åœ–ç‰‡ä¸¦ç”¢å‡º WebP æ ¼å¼:

1. **æ”¾ç½®ç´ æ**: å°‡åœ–ç‰‡ç´ ææ”¾åœ¨ `input-source/` è³‡æ–™å¤¾å…§ (å¯ç”¨å­è³‡æ–™å¤¾åˆ†é¡)
2. **åŸ·è¡Œå£“ç¸®**: åŸ·è¡Œ `npm run dev` æ™‚è‡ªå‹•å£“ç¸®
3. **è¼¸å‡ºä½ç½®**: å£“ç¸®å¾Œçš„åœ–æª”æœƒè¼¸å‡ºè‡³ `assets/layout/`

**è‡ªå‹•å‘½åç¯„ä¾‹ä¸¦ import export**:

```javascript
// assets/layout/index.js è‡ªå‹•ç”¢ç”Ÿ
import onsaleBgPc from './onsale/bg-pc.png';
import onsaleBgPcWebp from './onsale/bg-pcWebp.webp';
export { onsaleBgPc, onsaleBgPcWebp };
```

**æ³¨æ„äº‹é …**:

- ä¸éœ€å£“ç¸®çš„åœ–ç‰‡è«‹æ”¾åœ¨ `input-source/nominify/` ä¸­
- å£“ç¸®å“è³ªåƒæ•¸å¯åœ¨ `convert.js` ä¸­èª¿æ•´
- åœ–æª”éå°å¯èƒ½è®Š Base64

### ğŸ“¦ æ‰“åŒ…åŠŸèƒ½

ä½¿ç”¨ [vite-plugin-zip-pack](https://www.npmjs.com/package/vite-plugin-zip-pack) è‡ªå‹•ç”¢ç”Ÿå¾Œå°å¯ä¸Šå‚³å£“ç¸®åŒ…:

```bash
npm run build
```

åŸ·è¡Œå¾Œæœƒåœ¨ `./build-zip/` è³‡æ–™å¤¾ç”¢å‡ºå¯ç›´æ¥ä¸Šå‚³å¾Œå°çš„ `.zip` æª”æ¡ˆ (è«‹æ³¨æ„æª”æ¡ˆå¤§å°)ã€‚

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
ice-festival/
â”œâ”€â”€ public/                      # éœæ…‹è³‡æº
â”œâ”€â”€ input-source/                # åœ–ç‰‡ç´ ææ”¾é€™
â”‚   â”œâ”€â”€ nominify/               # ä¸éœ€å£“ç¸®çš„åœ–ç‰‡
â”‚   â””â”€â”€ ...
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ base/              # æ´»å‹•é åŸºç¤åœ–ç‰‡ç´ æ
â”‚   â”‚   â””â”€â”€ layout/            # å£“ç¸®å¾Œçš„åœ–ç‰‡è¼¸å‡º
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ basic/             # åŸºç¤å…±ç”¨å…ƒä»¶
â”‚   â”‚   â””â”€â”€ ToggleSection.jsx  # æ¢ä»¶æ¸²æŸ“å…ƒä»¶
â”‚   â”œâ”€â”€ constants/             # æ¨¡æ“¬è³‡æ–™
â”‚   â”œâ”€â”€ hooks/                 # è‡ªå®šç¾© Hooks
â”‚   â”‚   â”œâ”€â”€ useIsLogin.js
â”‚   â”‚   â”œâ”€â”€ useWindowScroll.js
â”‚   â”‚   â””â”€â”€ useWindowWidth.js
â”‚   â”œâ”€â”€ stores/                # Zustand ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useLaLaStore.js
â”‚   â”‚   â”œâ”€â”€ useCouponStore.js
â”‚   â”‚   â””â”€â”€ useOnsaleStore.js
â”‚   â”œâ”€â”€ utils/                 # è‡ªå®šç¾© å·¥å…·å‡½å¼
â”‚   â”‚   â”œâ”€â”€ filterData.js
â”‚   â”‚   â”œâ”€â”€ getDataById.js
â”‚   â”‚   â”œâ”€â”€ formatPriceText.js
â”‚   â”‚   â””â”€â”€ scrollToElement.js
â”‚   â”œâ”€â”€ styles/                # å…¨åŸŸæ¨£å¼
â”‚   â”œâ”€â”€ App.jsx                # æ ¹å…ƒä»¶
â”‚   â”œâ”€â”€ main.jsx               # å…¥å£æª”æ¡ˆ
â”‚   â””â”€â”€ index.css              # å…¨åŸŸ CSS
â”œâ”€â”€ build-zip/                  # æ‰“åŒ…è¼¸å‡ºç›®éŒ„
â”œâ”€â”€ convert.js                  # Sharp åœ–ç‰‡å£“ç¸®
â”œâ”€â”€ vite.config.js             # Vite é…ç½®
â”œâ”€â”€ tailwind.config.js         # Tailwind é…ç½®
â”œâ”€â”€ postcss.config.js          # PostCSS é…ç½®
â”œâ”€â”€ .env                       # ç’°å¢ƒè®Šæ•¸ (é–‹ç™¼)
â”œâ”€â”€ .env.production            # ç’°å¢ƒè®Šæ•¸ (ç”Ÿç”¢)
â””â”€â”€ package.json               # å°ˆæ¡ˆé…ç½®
```

---

## ğŸ¨ æ ¸å¿ƒå…ƒä»¶ä½¿ç”¨

### 1. ToggleSection - æ¢ä»¶æ¸²æŸ“å…ƒä»¶

æ ¹æ“šå¾Œå°è³‡æ–™è‡ªå‹•é¡¯ç¤º/éš±è—å€å¡Š : è«‹èˆ‡å¾Œå°ç¶­è­·åŒå­¸ç¢ºå®šå€å¡Š id

```jsx
<ToggleSection data-id={[31, 42]}>
  {/* ç•¶ id 31 æˆ– 42 æœ‰è³‡æ–™æ™‚é¡¯ç¤º */}
  å…¶ä»–å…§å®¹
</ToggleSection>
```

**`.env` ä¸­ `VITE_ISONLINE` çš„å½±éŸ¿**:

- `true`: id ç„¡è³‡æ–™æ™‚å€å¡Šä¸æ¸²æŸ“ (ç”Ÿç”¢ç’°å¢ƒ)
- `false`: id ç„¡è³‡æ–™æ™‚å€å¡Šä¾ç„¶æ¸²æŸ“ (é–‹ç™¼ç’°å¢ƒ)

### 2. RightNav - éŒ¨é»å°èˆª

è‡ªå‹•æŠ“å–å«æœ‰ `data-title` çš„ DOM ä¸¦æ¸²æŸ“è‡³å³å´é¸å–®:

> è©²å€å¡Š id ç‚ºå¯æŠ•å»£çš„éŒ¨é»é€£çµï¼Œex : url#pd1

```html
<div id="pd1" data-title="3Cç‰¹è³£"></div>
<div id="pd2" data-title="ç¾é£Ÿå°ˆå€"></div>
```

### 3. å¿«é€Ÿå»ºç«‹å…ƒä»¶

ä½¿ç”¨ VSCode Snippet å¿«é€Ÿå»ºç«‹ Function Component:

**è¼¸å…¥ `rfce` + Tab**:

```jsx
function TestComponent() {
  return <div>TestComponent</div>;
}

export default TestComponent;
```

**è¼¸å…¥ `//` + Tab** å»ºç«‹å…ƒä»¶è¨»è§£æ¨¡æ¿:

```javascript
// å…ƒä»¶èªªæ˜:

// packages

// stores

// custom hooks & utils

// components

// images

// style

// constants
```

---

## ğŸ—‚ï¸ ç‹€æ…‹ç®¡ç†

å°ˆæ¡ˆä½¿ç”¨ [Zustand](https://zustand-demo.pmnd.rs/) é€²è¡Œç‹€æ…‹ç®¡ç†ã€‚

### åˆå§‹åŒ–è³‡æ–™ç²å–

åœ¨ `App.jsx` ä¸­åˆå§‹åŒ–å¾Œå°è³‡æ–™:

```jsx
import { useLaLaStore1 } from './stores/useLaLaStore';
import { useEffect } from 'react';

function App() {
  const getLaLaData1 = useLaLaStore1((state) => state.getData);

  useEffect(() => {
    getLaLaData1();
  }, []);

  return <div>{/* ... */}</div>;
}
```

### åœ¨å…ƒä»¶ä¸­ä½¿ç”¨è³‡æ–™

å¾ Store ç²å–è³‡æ–™ä¸¦ä¾ ID ç¯©é¸:

```jsx
import { useState, useEffect } from 'react';
import { useLaLaStore1 } from '../stores/useLaLaStore';
import getDataById from '../utils/getDataById';

function Products() {
  const newPdData = useLaLaStore1((state) => state.newPdData);
  const [pdData, setPdData] = useState([]);

  useEffect(() => {
    const idData = getDataById(newPdData, 32);
    if (idData.length !== 0) {
      setPdData(idData);
    }
  }, [newPdData]);
  return <></>;
}
```

### å¤šå¾Œå°æ•´åˆ

ç•¶æ´»å‹•é éœ€è¦æ•´åˆå¤šå€‹å¾Œå° API æ™‚:

**Step 1**: åœ¨ `useLaLaStore.js` ä¸­å»ºç«‹ç¬¬äºŒçµ„ Store

```jsx
// ç¬¬ä¸€å€‹ store (é è¨­)
export const useLaLaStore1 = createLaLaStore(import.meta.env.VITE_ACTIVE_ID);

// ç¬¬äºŒå€‹ store (æŒ‡å®šå¾Œå° ID)
export const useLaLaStore2 = createLaLaStore('C123456789');
```

**Step 2**: åœ¨ `App.jsx` ä¸­åˆå§‹åŒ–å¤šå€‹ Store

```jsx
import { useLaLaStore1, useLaLaStore2 } from './stores/useLaLaStore';

function App() {
  const getLaLaData1 = useLaLaStore1((state) => state.getData);
  const getLaLaData2 = useLaLaStore2((state) => state.getData);

  useEffect(() => {
    getLaLaData1();
    getLaLaData2();
  }, []);
}
```

---

## ğŸ“ é–‹ç™¼ Snippets

å…§å»ºçš„ç¨‹å¼ç¢¼ç‰‡æ®µå¿«é€Ÿè¼¸å…¥:

### `iptw` + Tab

åŒ¯å…¥ Twin.macro:

```javascript
import tw, { styled } from 'twin.macro';
```

### `stw` + Tab

å»ºç«‹ Styled Component æ¨£æ¿:

```javascript
export const ComponentName = styled.div`
  ${tw``}
  ${tw`sm:()`}
  ${tw`lg:()`}
`;
```

### `//` + Tab

å»ºç«‹å…ƒä»¶è¨»è§£æ¨¡æ¿:

```javascript
// å…ƒä»¶èªªæ˜:

// packages

// stores

// custom hooks & utils

// components

// images

// style

// constants
```

### `pcm` + Tab

å»ºç«‹éŸ¿æ‡‰å¼åœ–ç‰‡æ¨™ç±¤:

```html
<picture>
  <source srcset="{imageDesktop}" media="(min-width: 767px)" />
  <img src="{imageMobile}" alt="" />
</picture>
```

---

## ğŸ› ï¸ å·¥å…·å‡½å¼

å°ˆæ¡ˆå…§å»ºçš„å·¥å…·å‡½å¼:

### `getDataById(data, id)`

ä¾ ID ç¯©é¸è³‡æ–™:

```javascript
import getDataById from '../utils/getDataById';

const filteredData = getDataById(newPdData, 32);
```

### `formatPriceText(price)`

æ ¼å¼åŒ–åƒ¹æ ¼é¡¯ç¤º(å¾Œå°åƒ¹æ ¼å¯èƒ½äººç‚ºè¼¸å…¥ä¸­æ–‡ or ç‰¹æ®Šç¬¦è™Ÿ):

```javascript
import formatPriceText from '../utils/formatPriceText';

const formattedPrice1 = formatPriceText('2å…¥$99');
// è¼¸å‡º: '2<span class="chi">å…¥</span><span class="dollar">$</span>99'

const formattedPrice2 = formatPriceText('$99');
// è¼¸å‡º: '<span class="dollar">$</span>99'

const formattedPrice3 = formatPriceText('99');
// è¼¸å‡º: '<span class="dollar">$</span>99'
```

### `scrollToElement(elementId)`

æ»¿é †æ²å‹•è‡³æŒ‡å®šå…ƒç´ :

```javascript
import scrollToElement from '../utils/scrollToElement';

scrollToElement('section1');
```

---

## ğŸ“Œ æ³¨æ„äº‹é …

- æ­¤å°ˆæ¡ˆç‚º Demo å±•ç¤ºç‰ˆæœ¬,éƒ¨åˆ† API åŠŸèƒ½å·²ç§»é™¤
- å»ºè­°ä½¿ç”¨ Node.js v18.18 ä»¥ä¸Šç‰ˆæœ¬

---

## ğŸ‘¤ ä½œè€…

**Butters**

- GitHub: [@Butters0418](https://github.com/Butters0418)

---

## ğŸ“ License

MIT License
